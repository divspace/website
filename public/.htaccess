<IfModule mod_dir.c>
    DirectoryIndex index.php
</IfModule>

<IfModule mod_security.c>
    SecFilterEngine Off
    SecFilterScanPOST Off
</IfModule>

<IfModule mod_ssl.c>
    SSLOptions StdEnvVars
</IfModule>

<IfModule mod_deflate.c>
    AddOutputFilterByType DEFLATE text/html text/plain text/xml text/css text/javascript

    BrowserMatch ^Mozilla/4 gzip-only-text/html
    BrowserMatch ^Mozilla/4\.0[678] no-gzip
    BrowserMatch \bMSIE !no-gzip !gzip-only-text/html

    SetEnvIfNoCase Request_URI \.(?:gif|jpe?g|png)$ no-gzip dont-vary

    Header append Vary User-Agent env=!dont-vary
</IfModule>

<IfModule mod_mime.c>
    AddDefaultCharset UTF-8

    AddCharset UTF-8 .css .js .json .rss .xml
</IfModule>

<IfModule mod_expires.c>
    ExpiresActive On

    ExpiresDefault A1209600

    <FilesMatch (\.css|\.js)$>
        ExpiresActive Off
    </FilesMatch>
</IfModule>

<IfModule mod_headers.c>
    Header unset If-Modified-Since
    Header unset If-None-Match
    Header unset ETag

    FileETag None

    <FilesMatch "\.(css|js)$">
        Header set Cache-Control "max-age=0, no-cache, no-store, must-revalidate"
        Header set Pragma "no-cache"
        Header set Expires "Sun, 04 Apr 1969 04:20:00 GMT"
    </FilesMatch>
</IfModule>

<IfModule mod_rewrite.c>
    <IfModule mod_negotiation.c>
        Options +FollowSymLinks -MultiViews
    </IfModule>

    RewriteEngine On

    RewriteCond %{REQUEST_METHOD} ^TRAC[EK]
    RewriteRule .* - [L,R=405]

    RewriteRule ^(.*)/$ /$1 [L,R=301]

    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteCond %{REQUEST_FILENAME} !-l
    RewriteRule ^ index.php [L]
</IfModule>
